<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Example Client</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.webrtc-experiment.com/getStats.js"></script>
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>

<style>
  .flexcontainer{
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    border: 1px solid black;
  }
  .flexitem{
   margin: 10px;
    
    border: 1px solid black;
   
   
  }
</style>


  </head>
  <body>
    <div class="container">
      <div class="text-center pt-2 pb-2">
        <h1 class="text-primary">WebRTC Video Streamer Client</h1>
      </div>
      <div class="row">
        <input style="display: none" type="checkbox" id="usehttps" />
        <div class="col-sm-1 align-self-end text-right">
          <label>Host:</label>
        </div>
        <div class="col-md-4">
          <input class="form-control" type="text" id="hostname" />
        </div>

        <div class="col-sm-1 align-self-end text-right">
          <label>Port:</label>
        </div>
        <div class="col-md-4">
          <input class="form-control" type="text" id="port" />
        </div>
        <div class="col align-self-end">
          <button class="btn btn-primary" onclick="onBtnConnectClick()">
            Connect
          </button>
        </div>
      </div>
    </div>

    <!-- <label id="response" /> -->

    <!-- <div class="messagebox">
      <label for="message"
        >Enter a message:
        <input
          type="text"
          name="message"
          id="message"
          placeholder="Message text"
          inputmode="latin"
          size="60"
          maxlength="120"
        />
      </label>
      <button id="sendButton" name="sendButton" class="buttonright">
        Send
      </button>
    </div>
    <div class="messagebox" id="receivebox">
      <p>Messages received:</p>
    </div>

    <div class="messagebox" id="receiveMsg">
      <p>sample text</p>
    </div> -->

<div class="row">
<div class="col-sm-5 col-md-5 col-lg-3" >
  <div style="margin-top: 9vh;
  margin-left: 10vh;">
    <table class="table ">
      <thead >
        <tr class="row">
          <th class="col-md-6"></th>
          <th class="col-md-6">Stats</th>
        </tr>
      
      </thead>

      <tbody>
        <tr class="row">
          <td class="col-md-6">Data</td>
          <td  class="col-md-6">
            <label>Recv:</label>
            <span id="peer1-totalDataForReceivers"></span>
          </td>
        </tr>

        <tr class="row">
          <td class="col-md-6">latency</td>
          <td class="col-md-6">
            <label>Audio:</label> <span id="peer1-audio-latency"></span
            ><br />
            <label>Video:</label> <span id="peer1-video-latency"></span>
          </td>
        </tr>

        <tr class="row">
          <td class="col-md-6">packetsLost</td>
          <td class="col-md-6">
            <label>Audio:</label> <span id="peer1-audio-packetsLost"></span
            ><br />
            <label>Video:</label> <span id="peer1-video-packetsLost"></span>
          </td>
        </tr>
        <tr class="row">
          <td class="col-md-6">Codecs</td>
          <td class="col-md-6">
            <label>Send:</label> <span id="peer1-codecsSend"></span><br />
            <label>Recv:</label> <span id="peer1-codecsRecv"></span><br />
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="col-sm-7 col-md-7 col-lg-9">
  <div class="right-section " style="margin-top: 9vh;
  margin-right: 10vh;">
    <video
      class="right-video w-100"
      id="remotevideo"
      autoplay
      controls
    ></video>
  </div>
</div>
</div>


  

    <script>
      var $ = function (id) {
        return document.getElementById(id);
      };

      window.onload = onLoad();

      function onLoad() {
        $("hostname").value = localStorage.getItem("hostname");
        $("port").value = localStorage.getItem("port");
        let checked = localStorage.getItem("usehttps");
        $("usehttps").checked = checked === "true" ? true : false;
      }

      function onBtnConnectClick() {
        let hostname = $("hostname").value;
        let port = $("port").value;
        let usehttps = $("usehttps").checked;
        localStorage.setItem("hostname", $("hostname").value);
        localStorage.setItem("port", $("port").value);
        localStorage.setItem("usehttps", $("usehttps").checked);
        connect(hostname, port, usehttps);
      }
    </script>
    <script src="example-client.js"></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
  </body>
</html>